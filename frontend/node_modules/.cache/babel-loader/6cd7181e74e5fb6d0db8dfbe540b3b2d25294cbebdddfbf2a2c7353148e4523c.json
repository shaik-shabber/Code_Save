{"ast":null,"code":"import React from'react';import{ChevronDown,ChevronRight,FolderOpen,Plus,Trash2,X}from'lucide-react';import useStore from'../store/useStore';import DeleteModal from'./DeleteModal';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Difficulty={Easy:'Easy',Medium:'Medium',Hard:'Hard'};const Language={JavaScript:'javascript',TypeScript:'typescript',Python:'python',Java:'java',Cpp:'cpp'};const ErrorModal=_ref=>{let{isOpen,message,onClose}=_ref;if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 shadow-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white\",children:\"Error\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300\",children:/*#__PURE__*/_jsx(X,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-300 mb-6\",children:message}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end gap-3\",children:/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors\",children:\"Close\"})})]})});};const Sidebar=_ref2=>{let{onClose}=_ref2;const{topics,selectedTopic,selectedProblem,setSelectedTopic,setSelectedProblem,addTopic,deleteTopic,deleteProblem,addProblem,fetchTopic// Assume you have a fetchTopic method in your store to re-fetch topic details.\n}=useStore();const navigate=useNavigate();const[expandedTopics,setExpandedTopics]=React.useState(new Set());const[isAddingTopic,setIsAddingTopic]=React.useState(false);const[newTopicTitle,setNewTopicTitle]=React.useState('');const[showDeleteModal,setShowDeleteModal]=React.useState(false);const[itemToDelete,setItemToDelete]=React.useState(null);const[isAddingProblem,setIsAddingProblem]=React.useState({topicId:'',isAdding:false});const[newProblemTitle,setNewProblemTitle]=React.useState('');const[errorMessage,setErrorMessage]=React.useState('');const[showErrorModal,setShowErrorModal]=React.useState(false);const toggleTopic=topicId=>{const newExpanded=new Set(expandedTopics);newExpanded.has(topicId)?newExpanded.delete(topicId):newExpanded.add(topicId);setExpandedTopics(newExpanded);};const handleTopicSelect=(topic,problem)=>{setSelectedTopic(topic);setSelectedProblem(problem);if(onClose)onClose();navigate(`/problem/${problem.problemId}`);};const handleAddTopic=async()=>{const title=newTopicTitle.trim();if(!title)return;const topicExists=topics.some(topic=>topic.title.toLowerCase()===title.toLowerCase());if(topicExists){setErrorMessage('Topic already exists');setShowErrorModal(true);return;}try{await addTopic(title);setNewTopicTitle('');setIsAddingTopic(false);}catch(error){console.error('Error adding topic:',error);}};const handleDeleteItem=(e,type,id,topicId)=>{e.preventDefault();e.stopPropagation();setItemToDelete({type,id,topicId});setShowDeleteModal(true);};const handleAddProblem=(topicId,e)=>{e.stopPropagation();if(!expandedTopics.has(topicId)){setExpandedTopics(prev=>new Set(prev).add(topicId));}setIsAddingProblem({topicId,isAdding:true});};// Create a dummy problem and immediately navigate to the editor.\n// Now, the problem opens in edit mode by adding ?edit=true.\nconst confirmAddProblem=async()=>{const title=newProblemTitle.trim();if(!title||!isAddingProblem.topicId)return;const topic=topics.find(t=>t.topicId===isAddingProblem.topicId);if(topic){const problemExists=Object.values(topic.problems).some(problem=>problem.title.toLowerCase()===title.toLowerCase());if(problemExists){setErrorMessage('Problem already exists in this topic');setShowErrorModal(true);return;}}try{const dummyProblem={title,statement:'No statement provided',difficulty:Difficulty.Medium,constraints:'',explanation:'',code:'',language:Language.JavaScript,timeComplexity:'',spaceComplexity:''};// Save the new problem (assuming addProblem returns the created problem object)\nconst newProblem=await addProblem(isAddingProblem.topicId,dummyProblem);setNewProblemTitle('');setIsAddingProblem({topicId:'',isAdding:false});// Validate the returned problemId; if invalid, re-fetch the topic details.\nlet validProblemId=newProblem.problemId;if(!validProblemId||typeof validProblemId!=='string'||validProblemId.trim()===''){const updatedTopic=await fetchTopic(isAddingProblem.topicId);const foundProblem=Object.values(updatedTopic.problems).find(problem=>problem.title.toLowerCase()===title.toLowerCase());if(foundProblem){validProblemId=foundProblem.problemId;setSelectedTopic(updatedTopic);setSelectedProblem(foundProblem);}else{throw new Error('Newly added problem not found in topic');}}else if(topic){setSelectedTopic(topic);setSelectedProblem(newProblem);}// Navigate to ProblemEditor with the edit query parameter so it opens in edit mode.\nnavigate(`/problem/${validProblemId}?edit=true`);}catch(error){console.error('Error adding problem:',error);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"fixed lg:relative z-10 w-80 h-[calc(100vh-4rem)] bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transform transition-transform duration-300 ease-in-out\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-b border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-800 dark:text-white\",children:\"Topics\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsAddingTopic(true),className:\"flex items-center gap-1 px-2 py-1 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"}),\" Add Topic\"]})]}),isAddingTopic&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newTopicTitle,onChange:e=>setNewTopicTitle(e.target.value),onKeyDown:e=>{if(e.key==='Enter')handleAddTopic();if(e.key==='Escape'){setIsAddingTopic(false);setNewTopicTitle('');}},placeholder:\"Enter topic name...\",className:\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500\",autoFocus:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mt-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleAddTopic,className:\"px-3 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors text-sm\",children:\"Add\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setIsAddingTopic(false);setNewTopicTitle('');},className:\"px-3 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors text-sm\",children:\"Cancel\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-y-auto h-[calc(100vh-8rem)]\",children:topics.map(topic=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors cursor-pointer\",onClick:()=>toggleTopic(topic.topicId),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[expandedTopics.has(topic.topicId)?/*#__PURE__*/_jsx(ChevronDown,{className:\"w-4 h-4 mr-2 text-gray-500\"}):/*#__PURE__*/_jsx(ChevronRight,{className:\"w-4 h-4 mr-2 text-gray-500\"}),/*#__PURE__*/_jsx(FolderOpen,{className:\"w-4 h-4 mr-2 text-gray-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700 dark:text-gray-200 break-words\",children:topic.title})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:e=>handleAddProblem(topic.topicId,e),className:\"flex items-center gap-1 px-2 py-1 text-sm text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"}),\" Add Problem\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>handleDeleteItem(e,'topic',topic.topicId),className:\"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4 text-red-500\"})})]})]}),expandedTopics.has(topic.topicId)&&/*#__PURE__*/_jsxs(\"div\",{className:\"ml-8\",children:[Object.entries(topic.problems).map(_ref3=>{let[problemId,problem]=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleTopicSelect(topic,problem),className:`w-full text-left p-2 text-sm rounded-md ${(selectedTopic===null||selectedTopic===void 0?void 0:selectedTopic.topicId)===topic.topicId&&(selectedProblem===null||selectedProblem===void 0?void 0:selectedProblem.problemId)===problem.problemId?'bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400':'text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'} truncate`,children:problem.title}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>handleDeleteItem(e,'problem',problemId,topic.topicId),className:\"p-1 ml-2 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4 text-red-500\"})})]},problemId);}),isAddingProblem.topicId===topic.topicId&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newProblemTitle,onChange:e=>setNewProblemTitle(e.target.value),onKeyDown:e=>{if(e.key==='Enter')confirmAddProblem();if(e.key==='Escape'){setIsAddingProblem({topicId:'',isAdding:false});setNewProblemTitle('');}},placeholder:\"Enter problem name...\",className:\"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500\",autoFocus:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mt-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:confirmAddProblem,className:\"px-3 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors text-sm\",children:\"Add\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setIsAddingProblem({topicId:'',isAdding:false});setNewProblemTitle('');},className:\"px-3 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors text-sm\",children:\"Cancel\"})]})]})]})]},topic.topicId))})]}),/*#__PURE__*/_jsx(DeleteModal,{isOpen:showDeleteModal,onClose:()=>{setShowDeleteModal(false);setItemToDelete(null);},onConfirm:()=>{if(itemToDelete){if(itemToDelete.type==='topic'){// If the deleted topic is currently open, clear selections and navigate to a safe route.\nif(selectedTopic&&selectedTopic.topicId===itemToDelete.id){setSelectedTopic(null);setSelectedProblem(null);navigate('/');// Adjust the route as needed.\n}deleteTopic(itemToDelete.id);}else if(itemToDelete.type==='problem'&&itemToDelete.topicId){// If the deleted problem is currently open, clear the selection.\nif(selectedProblem&&selectedProblem.problemId===itemToDelete.id){setSelectedProblem(null);navigate('/');// Adjust the route as needed.\n}deleteProblem(itemToDelete.topicId,itemToDelete.id);}setItemToDelete(null);setShowDeleteModal(false);}},itemType:itemToDelete?itemToDelete.type:''}),/*#__PURE__*/_jsx(ErrorModal,{isOpen:showErrorModal,message:errorMessage,onClose:()=>setShowErrorModal(false)})]});};export default Sidebar;","map":{"version":3,"names":["React","ChevronDown","ChevronRight","FolderOpen","Plus","Trash2","X","useStore","DeleteModal","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Difficulty","Easy","Medium","Hard","Language","JavaScript","TypeScript","Python","Java","Cpp","ErrorModal","_ref","isOpen","message","onClose","className","children","onClick","Sidebar","_ref2","topics","selectedTopic","selectedProblem","setSelectedTopic","setSelectedProblem","addTopic","deleteTopic","deleteProblem","addProblem","fetchTopic","navigate","expandedTopics","setExpandedTopics","useState","Set","isAddingTopic","setIsAddingTopic","newTopicTitle","setNewTopicTitle","showDeleteModal","setShowDeleteModal","itemToDelete","setItemToDelete","isAddingProblem","setIsAddingProblem","topicId","isAdding","newProblemTitle","setNewProblemTitle","errorMessage","setErrorMessage","showErrorModal","setShowErrorModal","toggleTopic","newExpanded","has","delete","add","handleTopicSelect","topic","problem","problemId","handleAddTopic","title","trim","topicExists","some","toLowerCase","error","console","handleDeleteItem","e","type","id","preventDefault","stopPropagation","handleAddProblem","prev","confirmAddProblem","find","t","problemExists","Object","values","problems","dummyProblem","statement","difficulty","constraints","explanation","code","language","timeComplexity","spaceComplexity","newProblem","validProblemId","updatedTopic","foundProblem","Error","value","onChange","target","onKeyDown","key","placeholder","autoFocus","map","entries","_ref3","onConfirm","itemType"],"sources":["D:/FInal Projects/CodeSave/frontend/src/components/Sidebar.jsx"],"sourcesContent":["import React from 'react';\r\nimport { ChevronDown, ChevronRight, FolderOpen, Plus, Trash2, X } from 'lucide-react';\r\nimport useStore from '../store/useStore';\r\nimport DeleteModal from './DeleteModal';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Difficulty = {\r\n  Easy: 'Easy',\r\n  Medium: 'Medium',\r\n  Hard: 'Hard',\r\n};\r\n\r\nconst Language = {\r\n  JavaScript: 'javascript',\r\n  TypeScript: 'typescript',\r\n  Python: 'python',\r\n  Java: 'java',\r\n  Cpp: 'cpp',\r\n};\r\n\r\nconst ErrorModal = ({ isOpen, message, onClose }) => {\r\n  if (!isOpen) return null;\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 shadow-lg\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white\">Error</h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300\"\r\n          >\r\n            <X className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n        <p className=\"text-gray-600 dark:text-gray-300 mb-6\">{message}</p>\r\n        <div className=\"flex justify-end gap-3\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors\"\r\n          >\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Sidebar = ({ onClose }) => {\r\n  const {\r\n    topics,\r\n    selectedTopic,\r\n    selectedProblem,\r\n    setSelectedTopic,\r\n    setSelectedProblem,\r\n    addTopic,\r\n    deleteTopic,\r\n    deleteProblem,\r\n    addProblem,\r\n    fetchTopic, // Assume you have a fetchTopic method in your store to re-fetch topic details.\r\n  } = useStore();\r\n  const navigate = useNavigate();\r\n\r\n  const [expandedTopics, setExpandedTopics] = React.useState(new Set());\r\n  const [isAddingTopic, setIsAddingTopic] = React.useState(false);\r\n  const [newTopicTitle, setNewTopicTitle] = React.useState('');\r\n  const [showDeleteModal, setShowDeleteModal] = React.useState(false);\r\n  const [itemToDelete, setItemToDelete] = React.useState(null);\r\n  const [isAddingProblem, setIsAddingProblem] = React.useState({ topicId: '', isAdding: false });\r\n  const [newProblemTitle, setNewProblemTitle] = React.useState('');\r\n  const [errorMessage, setErrorMessage] = React.useState('');\r\n  const [showErrorModal, setShowErrorModal] = React.useState(false);\r\n\r\n  const toggleTopic = (topicId) => {\r\n    const newExpanded = new Set(expandedTopics);\r\n    newExpanded.has(topicId) ? newExpanded.delete(topicId) : newExpanded.add(topicId);\r\n    setExpandedTopics(newExpanded);\r\n  };\r\n\r\n  const handleTopicSelect = (topic, problem) => {\r\n    setSelectedTopic(topic);\r\n    setSelectedProblem(problem);\r\n    if (onClose) onClose();\r\n    navigate(`/problem/${problem.problemId}`);\r\n  };\r\n\r\n  const handleAddTopic = async () => {\r\n    const title = newTopicTitle.trim();\r\n    if (!title) return;\r\n    const topicExists = topics.some(\r\n      (topic) => topic.title.toLowerCase() === title.toLowerCase()\r\n    );\r\n    if (topicExists) {\r\n      setErrorMessage('Topic already exists');\r\n      setShowErrorModal(true);\r\n      return;\r\n    }\r\n    try {\r\n      await addTopic(title);\r\n      setNewTopicTitle('');\r\n      setIsAddingTopic(false);\r\n    } catch (error) {\r\n      console.error('Error adding topic:', error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteItem = (e, type, id, topicId) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setItemToDelete({ type, id, topicId });\r\n    setShowDeleteModal(true);\r\n  };\r\n\r\n  const handleAddProblem = (topicId, e) => {\r\n    e.stopPropagation();\r\n    if (!expandedTopics.has(topicId)) {\r\n      setExpandedTopics((prev) => new Set(prev).add(topicId));\r\n    }\r\n    setIsAddingProblem({ topicId, isAdding: true });\r\n  };\r\n\r\n  // Create a dummy problem and immediately navigate to the editor.\r\n  // Now, the problem opens in edit mode by adding ?edit=true.\r\n  const confirmAddProblem = async () => {\r\n    const title = newProblemTitle.trim();\r\n    if (!title || !isAddingProblem.topicId) return;\r\n    const topic = topics.find((t) => t.topicId === isAddingProblem.topicId);\r\n    if (topic) {\r\n      const problemExists = Object.values(topic.problems).some(\r\n        (problem) => problem.title.toLowerCase() === title.toLowerCase()\r\n      );\r\n      if (problemExists) {\r\n        setErrorMessage('Problem already exists in this topic');\r\n        setShowErrorModal(true);\r\n        return;\r\n      }\r\n    }\r\n    try {\r\n      const dummyProblem = {\r\n        title,\r\n        statement: 'No statement provided',\r\n        difficulty: Difficulty.Medium,\r\n        constraints: '',\r\n        explanation: '',\r\n        code: '',\r\n        language: Language.JavaScript,\r\n        timeComplexity: '',\r\n        spaceComplexity: '',\r\n      };\r\n      // Save the new problem (assuming addProblem returns the created problem object)\r\n      const newProblem = await addProblem(isAddingProblem.topicId, dummyProblem);\r\n      setNewProblemTitle('');\r\n      setIsAddingProblem({ topicId: '', isAdding: false });\r\n\r\n      // Validate the returned problemId; if invalid, re-fetch the topic details.\r\n      let validProblemId = newProblem.problemId;\r\n      if (\r\n        !validProblemId ||\r\n        typeof validProblemId !== 'string' ||\r\n        validProblemId.trim() === ''\r\n      ) {\r\n        const updatedTopic = await fetchTopic(isAddingProblem.topicId);\r\n        const foundProblem = Object.values(updatedTopic.problems).find(\r\n          (problem) => problem.title.toLowerCase() === title.toLowerCase()\r\n        );\r\n        if (foundProblem) {\r\n          validProblemId = foundProblem.problemId;\r\n          setSelectedTopic(updatedTopic);\r\n          setSelectedProblem(foundProblem);\r\n        } else {\r\n          throw new Error('Newly added problem not found in topic');\r\n        }\r\n      } else if (topic) {\r\n        setSelectedTopic(topic);\r\n        setSelectedProblem(newProblem);\r\n      }\r\n\r\n      // Navigate to ProblemEditor with the edit query parameter so it opens in edit mode.\r\n      navigate(`/problem/${validProblemId}?edit=true`);\r\n    } catch (error) {\r\n      console.error('Error adding problem:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"fixed lg:relative z-10 w-80 h-[calc(100vh-4rem)] bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transform transition-transform duration-300 ease-in-out\">\r\n        <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h2 className=\"text-lg font-semibold text-gray-800 dark:text-white\">Topics</h2>\r\n            <button\r\n              onClick={() => setIsAddingTopic(true)}\r\n              className=\"flex items-center gap-1 px-2 py-1 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors\"\r\n            >\r\n              <Plus className=\"w-4 h-4\" /> Add Topic\r\n            </button>\r\n          </div>\r\n          {isAddingTopic && (\r\n            <div className=\"mt-2\">\r\n              <input\r\n                type=\"text\"\r\n                value={newTopicTitle}\r\n                onChange={(e) => setNewTopicTitle(e.target.value)}\r\n                onKeyDown={(e) => {\r\n                  if (e.key === 'Enter') handleAddTopic();\r\n                  if (e.key === 'Escape') {\r\n                    setIsAddingTopic(false);\r\n                    setNewTopicTitle('');\r\n                  }\r\n                }}\r\n                placeholder=\"Enter topic name...\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                autoFocus\r\n              />\r\n              <div className=\"flex gap-2 mt-2\">\r\n                <button\r\n                  onClick={handleAddTopic}\r\n                  className=\"px-3 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors text-sm\"\r\n                >\r\n                  Add\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    setIsAddingTopic(false);\r\n                    setNewTopicTitle('');\r\n                  }}\r\n                  className=\"px-3 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors text-sm\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"overflow-y-auto h-[calc(100vh-8rem)]\">\r\n          {topics.map((topic) => (\r\n            <div key={topic.topicId}>\r\n              <div\r\n                className=\"flex items-center justify-between p-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors cursor-pointer\"\r\n                onClick={() => toggleTopic(topic.topicId)}\r\n              >\r\n                <div className=\"flex items-center\">\r\n                  {expandedTopics.has(topic.topicId) ? (\r\n                    <ChevronDown className=\"w-4 h-4 mr-2 text-gray-500\" />\r\n                  ) : (\r\n                    <ChevronRight className=\"w-4 h-4 mr-2 text-gray-500\" />\r\n                  )}\r\n                  <FolderOpen className=\"w-4 h-4 mr-2 text-gray-500\" />\r\n                  <span className=\"text-gray-700 dark:text-gray-200 break-words\">\r\n                    {topic.title}\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <button\r\n                    onClick={(e) => handleAddProblem(topic.topicId, e)}\r\n                    className=\"flex items-center gap-1 px-2 py-1 text-sm text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded transition-colors\"\r\n                  >\r\n                    <Plus className=\"w-4 h-4\" /> Add Problem\r\n                  </button>\r\n                  <button\r\n                    onClick={(e) => handleDeleteItem(e, 'topic', topic.topicId)}\r\n                    className=\"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg\"\r\n                  >\r\n                    <Trash2 className=\"w-4 h-4 text-red-500\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              {expandedTopics.has(topic.topicId) && (\r\n                <div className=\"ml-8\">\r\n                  {Object.entries(topic.problems).map(([problemId, problem]) => (\r\n                    <div key={problemId} className=\"flex items-center justify-between\">\r\n                      <button\r\n                        onClick={() => handleTopicSelect(topic, problem)}\r\n                        className={`w-full text-left p-2 text-sm rounded-md ${\r\n                          selectedTopic?.topicId === topic.topicId &&\r\n                          selectedProblem?.problemId === problem.problemId\r\n                            ? 'bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400'\r\n                            : 'text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'\r\n                        } truncate`}\r\n                      >\r\n                        {problem.title}\r\n                      </button>\r\n                      <button\r\n                        onClick={(e) => handleDeleteItem(e, 'problem', problemId, topic.topicId)}\r\n                        className=\"p-1 ml-2 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg\"\r\n                      >\r\n                        <Trash2 className=\"w-4 h-4 text-red-500\" />\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                  {isAddingProblem.topicId === topic.topicId && (\r\n                    <div className=\"p-2\">\r\n                      <input\r\n                        type=\"text\"\r\n                        value={newProblemTitle}\r\n                        onChange={(e) => setNewProblemTitle(e.target.value)}\r\n                        onKeyDown={(e) => {\r\n                          if (e.key === 'Enter') confirmAddProblem();\r\n                          if (e.key === 'Escape') {\r\n                            setIsAddingProblem({ topicId: '', isAdding: false });\r\n                            setNewProblemTitle('');\r\n                          }\r\n                        }}\r\n                        placeholder=\"Enter problem name...\"\r\n                        className=\"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                        autoFocus\r\n                      />\r\n                      <div className=\"flex gap-2 mt-2\">\r\n                        <button\r\n                          onClick={confirmAddProblem}\r\n                          className=\"px-3 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors text-sm\"\r\n                        >\r\n                          Add\r\n                        </button>\r\n                        <button\r\n                          onClick={() => {\r\n                            setIsAddingProblem({ topicId: '', isAdding: false });\r\n                            setNewProblemTitle('');\r\n                          }}\r\n                          className=\"px-3 py-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors text-sm\"\r\n                        >\r\n                          Cancel\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <DeleteModal\r\n        isOpen={showDeleteModal}\r\n        onClose={() => {\r\n          setShowDeleteModal(false);\r\n          setItemToDelete(null);\r\n        }}\r\n        onConfirm={() => {\r\n          if (itemToDelete) {\r\n            if (itemToDelete.type === 'topic') {\r\n              // If the deleted topic is currently open, clear selections and navigate to a safe route.\r\n              if (selectedTopic && selectedTopic.topicId === itemToDelete.id) {\r\n                setSelectedTopic(null);\r\n                setSelectedProblem(null);\r\n                navigate('/'); // Adjust the route as needed.\r\n              }\r\n              deleteTopic(itemToDelete.id);\r\n            } else if (itemToDelete.type === 'problem' && itemToDelete.topicId) {\r\n              // If the deleted problem is currently open, clear the selection.\r\n              if (selectedProblem && selectedProblem.problemId === itemToDelete.id) {\r\n                setSelectedProblem(null);\r\n                navigate('/'); // Adjust the route as needed.\r\n              }\r\n              deleteProblem(itemToDelete.topicId, itemToDelete.id);\r\n            }\r\n            setItemToDelete(null);\r\n            setShowDeleteModal(false);\r\n          }\r\n        }}\r\n        itemType={itemToDelete ? itemToDelete.type : ''}\r\n      />\r\n\r\n      <ErrorModal\r\n        isOpen={showErrorModal}\r\n        message={errorMessage}\r\n        onClose={() => setShowErrorModal(false)}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}